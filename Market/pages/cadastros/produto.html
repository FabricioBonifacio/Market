<div  ng-controller="produtoCtrl">
	<div class="row">
		<div class="col-md-12">
			<div class="box box-success">
				<div class="box-header">
					<i class="fa fa-archive"></i><h3 class="box-title"> Produto</h3>  
					<div class="box-tools">
						<div class="input-group">
							<input type="text" name="table_search" class="form-control input-sm pull-right" ng-model="search" style="width: 150px;" placeholder="Search"/>
							<div class="input-group-btn">
								<button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
							</div>
						</div>
					</div>										
				</div><!-- /.box-header -->
				<div class="box-body no-padding">
					<table class="table table-hover">
						<tr class="hover">
							<th style="width: 10px">#</th>
							<th>Produto</th>
							<th>Categoria</th>
							<th>Unidade</th>
							<th></th>
						</tr>
						<tr ng-repeat='produto in produtos | filter:search'>
							<td>{{produto.ID}}</td>
							<td>{{produto.Nome}}</td>
							<td>{{produto.Categoria.Nome}}</td>
							<td><small class="label label-danger">{{produto.Unidade.Sigla}}</small></td>
							<td>
								<button class="btn btn-danger btn-xs pull-right" style="margin-right:20px" ng-click="excluir(produto)"><i class="fa fa-trash"></i> </button>
								<button class="btn btn-success btn-xs pull-right" style="margin-right:10px" data-toggle="modal" data-target="#modalProduto" ng-click="editar(produto)"><i class="fa fa-edit"></i> </button>
							</td>
						</tr>	
					</table>
				</div><!-- /.box-body -->
				<div class="box-footer clearfix no-border">
					<button class="btn btn-primary pull-right" data-toggle="modal" data-target="#modalProduto" ng-click="novo()"><i class="fa fa-plus"></i> Adicionar Produto</button>										
				</div>
			</div><!-- /.box -->
		</div><!-- /.col -->
	</div><!-- /. row -->
	<div class="modal fade" tabindex="-1"  id="modalProduto" tabindex="-1" role="dialog">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			 
			<h4 class="modal-title">Novo Produto</h4>
		  </div>
		  <div class="modal-body">
			  <form name="produtoForm" >
				<div class="input-group">
					<span class="input-group-addon">Produto</span>
					<input type="text" ng-model="produto.Nome" name="nome" class="form-control" ng-required="true" ng-minlength="3">
				</div>
				</br>
				<div class="input-group">
					<span class="input-group-addon">Categoria</span>
					<select class="form-control" ng-model="produto.Categoria" ng-options="categoria.Nome for categoria in categorias | orderBy:nome">
						<option value="">Selecione uma categoria</option>
					</select>
				</div>
				</br>
				<div class="input-group">
					<span class="input-group-addon">Unidade de Medida</span>
					<select class="form-control" ng-model="produto.Unidade" ng-options="unidade.Nome for unidade in unidades | orderBy:nome">
						<option value="">Selecione uma unidade</option>
					</select>
				</div>
			  </form>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal" id="closeButton">Cancelar</button>
			<button type="button" class="btn btn-primary" ng-click="adicionar(produto)" ng-disabled="produtoForm.$invalid">Salvar</button>
		  </div>
		</div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
</div>